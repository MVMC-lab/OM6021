## SDC00 API
---
### ASA_SDC00 Register
| LSByte |  | b7 | b6 | b5 | b4 | b3 | b2 | b1 | b0 | 說明 |
|--------|---------------------------|------|------|------|------|------|-----------|-----------|-------------|------------------------------------------|
| 0~63 | 資料交換通道 |  |  |  |  |  |  |  |  | 最大可容納64位元資料送收。 |
| 64~71 | 檔名暫存器(Name) |  |  |  |  |  |  |  |  | 開啟(創新)檔案名稱 |
| 72~74 | 副檔名暫存器(Ext) |  |  |  |  |  |  |  |  |  |
| 75 | 檔案屬性暫存器(Attribute) |  |  |  |  |  |  |  |  | 1禁止寫入, 0允許寫入 |
| 76~77 | 更新時間暫存器 (time) |  |  |  |  |  |  |  |  |  |
| 78~79 | 更新日期暫存器 (date) |  |  |  |  |  |  |  |  |  |
| 80~81 | 啟始段落(cluster) |  |  |  |  |  |  |  |  |  |
| 82~85 | 檔案尺寸(File Size) |  |  |  |  |  |  |  |  |  |
| 86~87 | 目錄檔案序號暫存器 |  |  |  |  |  |  |  |  | 目前檔案在目錄Directory上的序號。(2BYTE) |
| 88~199 | 保留 |  |  |  |  |  |  |  |  |  |
| 200 | 開檔模式設定暫存器 | 保留 | 保留 | 保留 | 保留 | 保留 | 續寫 旗標 | 讀寫 旗標 | 開關檔 旗標 |  |
---
### ASA_SDC00_set
- 呼叫介面:

`
char ASA_SDC00_set(char ASA_ID, char LSByte, char Mask, char shift, char Data)
`

or

`char ASA_SDC00_fpt(char ASA_ID, char LSByte, char Mask, char shift, char Data)`
- 簡介:
呼叫本函式，配合適當之參數可以執行以下設定動作

  - 開檔允讀：找尋並開啟micro SD卡上檔名吻合檔案，允許後續該檔讀取資料。
  - 開檔蓋寫：找尋並開啟micro SD卡上檔名吻合檔案，允許後續將資料寫入覆蓋舊資料。如無吻合檔名，則新建檔案並開檔蓋寫。
  - 開檔續寫：找尋並開啟micro SD卡上檔名吻合檔案，允許後續將資料寫入接續於舊有資料之後。 如無吻合檔名，則新建檔案並開檔續寫。
  - 關檔：關閉檔案，於關閉檔案前更新檔案相關資料，關檔之後將禁止後續對檔案進行資料讀寫動作。

- 參數:
  - ***ASA_ID*** :  ASA模組辨識編號ID，其值應與硬體上旋鈕設定相吻合。
  - ***LSByte*** :  暫存器地址
  - ***Mask*** :    寫入遮罩  
  - ***shift*** :   資料左位移數
  - ***Data*** :    指定狀態值

- 回傳:
  - ***0*** : 成功
  - ***1*** : 錯誤：選擇參數本函式不支援
  - ***2*** : 錯誤：開檔失敗，檔案不存在，且檔案數超過65535不能開新檔。
  - ***3*** : 錯誤：開檔允讀失敗，檔案不存在。
  - ***4*** : 錯誤：開檔蓋寫失敗，檔案屬性為禁止蓋寫。
  - ***5*** : SD卡狀態異常(確認SD卡是否插好或嘗試重開機)

  ---

### ASA_SDC00_put
- 呼叫介面:

 `char ASA_SDC00_put(char ASA_ID, char LSByte, char Bytes, void *Data_p)`

- 簡介:
  呼叫本函式可以執行

  - 蓋寫資料：己開檔蓋寫後，本函式會將資料蓋寫至Micro SD卡己開檔案起頭。
  - 寫資料：己開檔續寫，本函式會將資料續寫至Micro SD卡己開檔案尾巴接續位置。
  - 檔名寫入：
    - 己開檔檔名修改：遠端寫入檔名，蓋寫己開檔案之檔名。關檔後才正式生效。
    - 欲開檔檔名準備：遠端寫入檔名，準備配合後續開檔動作，提供檔名。
  - 副檔名寫入：
    - 己開檔副檔名修改：遠端寫入副檔名，蓋寫己開檔案之副檔名。關檔後才正式生效。
    - 欲開檔副檔名準備：遠端寫入副檔名，準備配合後續開檔動作，提供副檔名。
  - 屬性寫入：遠端寫入屬性，蓋寫己開檔案之屬性，關檔後才正式生效。

- 參數:
  - ***ASA_ID*** :  ASA模組辨識編號ID，其值應與硬體上旋鈕設定相吻合。
  - ***LSByte*** :  暫存器地址
  - ***Mask*** :    寫入遮罩  
  - ***shift*** :   資料左位移數
  - ***\*Data_p*** :  資料指標

- 回傳:
  - ***0*** : 成功
  - ***1*** : 錯誤：本函式不支援的參數輸入。
  - ***2*** : 錯誤：無己開檔案可供寫入封包資料。

  ---

### ASA_SDC00_get
- 呼叫介面:

`char ASA_SDC00_get(char ASA_ID, char LSByte, char Bytes, void *Data_p)`

- 簡介 : 呼叫本函式可以執行

  - 讀回資料封包：己開檔允讀後，本函式依序讀回Micro SD卡己開檔案編號內容封包。
  - 讀回己開檔案日期：讀回己開檔的最新更新日期。
  - 讀回己開檔案時間：讀回己開檔的最新更新時間。
  - 讀回己開檔案屬性：讀回己開檔的屬性。
  - 讀回己開檔案尺寸：讀回己開檔的尺寸。

- 參數:
  - ***ASA_ID*** :  ASA模組辨識編號ID，其值應與硬體上旋鈕設定相吻合。
  - ***LSByte*** :  暫存器地址
  - ***Mask*** :    寫入遮罩  
  - ***shift*** :   資料左位移數
  - ***\*Data_p*** :  資料指標

- 回傳:
  - ***0*** : 成功
  - ***1*** : 錯誤：本函式不支援選擇參數。
  - ***2*** : 錯誤：無己開檔案可供讀取封包資料。
  - ***3*** : 錯誤：己開檔案己無後續可讀資料。
  - ***7*** : SD卡狀態異常(確認SD卡是否插好或嘗試重開機)
